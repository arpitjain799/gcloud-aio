<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>gcloud.rest.pubsub.publisher_client API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>gcloud.rest.pubsub.publisher_client</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from __future__ import absolute_import
from __future__ import division
from __future__ import print_function
from __future__ import unicode_literals
from builtins import str
import warnings
with warnings.catch_warnings():
    warnings.simplefilter(&#34;ignore&#34;)
    from future import standard_library
standard_library.install_aliases()
from builtins import object
import json
import logging
import os
from typing import Any
from typing import AnyStr
from typing import Dict
from typing import IO
from typing import List
from typing import Optional
from typing import Union

from gcloud.rest.auth import SyncSession  # pylint: disable=no-name-in-module
from gcloud.rest.auth import BUILD_GCLOUD_REST  # pylint: disable=no-name-in-module
from gcloud.rest.auth import Token  # pylint: disable=no-name-in-module
from gcloud.rest.pubsub.utils import PubsubMessage

# Selectively load libraries based on the package
if BUILD_GCLOUD_REST:
    from requests import Session
else:
    from aiohttp import ClientSession as Session  # type: ignore[assignment]


API_ROOT = &#39;https://pubsub.googleapis.com/v1&#39;
VERIFY_SSL = True
SCOPES = [
    &#39;https://www.googleapis.com/auth/pubsub&#39;,
]


PUBSUB_EMULATOR_HOST = os.environ.get(&#39;PUBSUB_EMULATOR_HOST&#39;)
if PUBSUB_EMULATOR_HOST:
    API_ROOT = &#39;http://{}/v1&#39;.format((PUBSUB_EMULATOR_HOST))
    VERIFY_SSL = False

log = logging.getLogger(__name__)


class PublisherClient(object):
    def __init__(self, **_3to2kwargs)        :
        if &#39;token&#39; in _3to2kwargs: token = _3to2kwargs[&#39;token&#39;]; del _3to2kwargs[&#39;token&#39;]
        else: token =  None
        if &#39;session&#39; in _3to2kwargs: session = _3to2kwargs[&#39;session&#39;]; del _3to2kwargs[&#39;session&#39;]
        else: session =  None
        if &#39;service_file&#39; in _3to2kwargs: service_file = _3to2kwargs[&#39;service_file&#39;]; del _3to2kwargs[&#39;service_file&#39;]
        else: service_file =  None
        self.session = SyncSession(session, verify_ssl=VERIFY_SSL)
        self.token = token or Token(
            service_file=service_file, scopes=SCOPES,
            session=self.session.session)  # type: ignore[arg-type]

    @staticmethod
    def project_path(project     )       :
        return &#39;projects/{}&#39;.format((project))

    @classmethod
    def subscription_path(cls, project     , subscription     )       :
        return &#39;{}/subscriptions/{}&#39;.format((cls.project_path(project)), (subscription))

    @classmethod
    def topic_path(cls, project     , topic     )       :
        return &#39;{}/topics/{}&#39;.format((cls.project_path(project)), (topic))

    def _headers(self)                  :
        headers = {
            &#39;Content-Type&#39;: &#39;application/json&#39;
        }
        if PUBSUB_EMULATOR_HOST:
            return headers

        token = self.token.get()
        headers[&#39;Authorization&#39;] = &#39;Bearer {}&#39;.format((token))
        return headers

    # TODO: implement that various methods from:
    # https://github.com/googleapis/python-pubsub/blob/master/google/cloud/pubsub_v1/gapic/publisher_client.py

    # https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.topics/list
    def list_topics(self, project     ,
                          query_params                           = None, **_3to2kwargs)                  :
        if &#39;timeout&#39; in _3to2kwargs: timeout = _3to2kwargs[&#39;timeout&#39;]; del _3to2kwargs[&#39;timeout&#39;]
        else: timeout =  10
        if &#39;session&#39; in _3to2kwargs: session = _3to2kwargs[&#39;session&#39;]; del _3to2kwargs[&#39;session&#39;]
        else: session =  None
        &#34;&#34;&#34;
        List topics
        &#34;&#34;&#34;
        url = &#39;{}/{}/topics&#39;.format((API_ROOT), (project))
        headers = self._headers()
        s = SyncSession(session) if session else self.session
        resp = s.get(url, headers=headers, params=query_params,
                           timeout=timeout)
        result                 = resp.json()
        return result

    # https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.topics/create
    def create_topic(self, topic     ,
                           body                           = None, **_3to2kwargs)                  :
        if &#39;timeout&#39; in _3to2kwargs: timeout = _3to2kwargs[&#39;timeout&#39;]; del _3to2kwargs[&#39;timeout&#39;]
        else: timeout =  10
        if &#39;session&#39; in _3to2kwargs: session = _3to2kwargs[&#39;session&#39;]; del _3to2kwargs[&#39;session&#39;]
        else: session =  None
        &#34;&#34;&#34;
        Create topic.
        &#34;&#34;&#34;
        url = &#39;{}/{}&#39;.format((API_ROOT), (topic))
        headers = self._headers()
        encoded = json.dumps(body or {}).encode()
        s = SyncSession(session) if session else self.session
        # TODO: the type issue will be fixed in auth-4.0.2
        resp = s.put(url, data=encoded,  # type: ignore[arg-type]
                           headers=headers, timeout=timeout)
        result                 = resp.json()
        return result

    # https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.topics/delete
    def delete_topic(self, topic     , **_3to2kwargs)        :
        if &#39;timeout&#39; in _3to2kwargs: timeout = _3to2kwargs[&#39;timeout&#39;]; del _3to2kwargs[&#39;timeout&#39;]
        else: timeout =  10
        if &#39;session&#39; in _3to2kwargs: session = _3to2kwargs[&#39;session&#39;]; del _3to2kwargs[&#39;session&#39;]
        else: session =  None
        &#34;&#34;&#34;
        Delete topic.
        &#34;&#34;&#34;
        url = &#39;{}/{}&#39;.format((API_ROOT), (topic))
        headers = self._headers()
        s = SyncSession(session) if session else self.session
        s.delete(url, headers=headers, timeout=timeout)

    # https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.topics/publish
    def publish(self, topic     , messages                     ,
                      session                    = None,
                      timeout      = 10)                  :
        if not messages:
            return {}

        url = &#39;{}/{}:publish&#39;.format((API_ROOT), (topic))

        body = {&#39;messages&#39;: [m.to_repr() for m in messages]}
        payload = json.dumps(body).encode(&#39;utf-8&#39;)

        headers = self._headers()
        headers[&#39;Content-Length&#39;] = str(len(payload))

        s = SyncSession(session) if session else self.session
        # TODO: the type issue will be fixed in auth-4.0.2
        resp = s.post(url, data=payload,  # type: ignore[arg-type]
                            headers=headers, timeout=timeout)
        data                 = resp.json()
        return data

    def close(self)        :
        self.session.close()

    def __enter__(self)                     :
        return self

    def __exit__(self, *args     )        :
        self.close()</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="gcloud.rest.pubsub.publisher_client.PublisherClient"><code class="flex name class">
<span>class <span class="ident">PublisherClient</span></span>
<span>(</span><span>**_3to2kwargs)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class PublisherClient(object):
    def __init__(self, **_3to2kwargs)        :
        if &#39;token&#39; in _3to2kwargs: token = _3to2kwargs[&#39;token&#39;]; del _3to2kwargs[&#39;token&#39;]
        else: token =  None
        if &#39;session&#39; in _3to2kwargs: session = _3to2kwargs[&#39;session&#39;]; del _3to2kwargs[&#39;session&#39;]
        else: session =  None
        if &#39;service_file&#39; in _3to2kwargs: service_file = _3to2kwargs[&#39;service_file&#39;]; del _3to2kwargs[&#39;service_file&#39;]
        else: service_file =  None
        self.session = SyncSession(session, verify_ssl=VERIFY_SSL)
        self.token = token or Token(
            service_file=service_file, scopes=SCOPES,
            session=self.session.session)  # type: ignore[arg-type]

    @staticmethod
    def project_path(project     )       :
        return &#39;projects/{}&#39;.format((project))

    @classmethod
    def subscription_path(cls, project     , subscription     )       :
        return &#39;{}/subscriptions/{}&#39;.format((cls.project_path(project)), (subscription))

    @classmethod
    def topic_path(cls, project     , topic     )       :
        return &#39;{}/topics/{}&#39;.format((cls.project_path(project)), (topic))

    def _headers(self)                  :
        headers = {
            &#39;Content-Type&#39;: &#39;application/json&#39;
        }
        if PUBSUB_EMULATOR_HOST:
            return headers

        token = self.token.get()
        headers[&#39;Authorization&#39;] = &#39;Bearer {}&#39;.format((token))
        return headers

    # TODO: implement that various methods from:
    # https://github.com/googleapis/python-pubsub/blob/master/google/cloud/pubsub_v1/gapic/publisher_client.py

    # https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.topics/list
    def list_topics(self, project     ,
                          query_params                           = None, **_3to2kwargs)                  :
        if &#39;timeout&#39; in _3to2kwargs: timeout = _3to2kwargs[&#39;timeout&#39;]; del _3to2kwargs[&#39;timeout&#39;]
        else: timeout =  10
        if &#39;session&#39; in _3to2kwargs: session = _3to2kwargs[&#39;session&#39;]; del _3to2kwargs[&#39;session&#39;]
        else: session =  None
        &#34;&#34;&#34;
        List topics
        &#34;&#34;&#34;
        url = &#39;{}/{}/topics&#39;.format((API_ROOT), (project))
        headers = self._headers()
        s = SyncSession(session) if session else self.session
        resp = s.get(url, headers=headers, params=query_params,
                           timeout=timeout)
        result                 = resp.json()
        return result

    # https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.topics/create
    def create_topic(self, topic     ,
                           body                           = None, **_3to2kwargs)                  :
        if &#39;timeout&#39; in _3to2kwargs: timeout = _3to2kwargs[&#39;timeout&#39;]; del _3to2kwargs[&#39;timeout&#39;]
        else: timeout =  10
        if &#39;session&#39; in _3to2kwargs: session = _3to2kwargs[&#39;session&#39;]; del _3to2kwargs[&#39;session&#39;]
        else: session =  None
        &#34;&#34;&#34;
        Create topic.
        &#34;&#34;&#34;
        url = &#39;{}/{}&#39;.format((API_ROOT), (topic))
        headers = self._headers()
        encoded = json.dumps(body or {}).encode()
        s = SyncSession(session) if session else self.session
        # TODO: the type issue will be fixed in auth-4.0.2
        resp = s.put(url, data=encoded,  # type: ignore[arg-type]
                           headers=headers, timeout=timeout)
        result                 = resp.json()
        return result

    # https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.topics/delete
    def delete_topic(self, topic     , **_3to2kwargs)        :
        if &#39;timeout&#39; in _3to2kwargs: timeout = _3to2kwargs[&#39;timeout&#39;]; del _3to2kwargs[&#39;timeout&#39;]
        else: timeout =  10
        if &#39;session&#39; in _3to2kwargs: session = _3to2kwargs[&#39;session&#39;]; del _3to2kwargs[&#39;session&#39;]
        else: session =  None
        &#34;&#34;&#34;
        Delete topic.
        &#34;&#34;&#34;
        url = &#39;{}/{}&#39;.format((API_ROOT), (topic))
        headers = self._headers()
        s = SyncSession(session) if session else self.session
        s.delete(url, headers=headers, timeout=timeout)

    # https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.topics/publish
    def publish(self, topic     , messages                     ,
                      session                    = None,
                      timeout      = 10)                  :
        if not messages:
            return {}

        url = &#39;{}/{}:publish&#39;.format((API_ROOT), (topic))

        body = {&#39;messages&#39;: [m.to_repr() for m in messages]}
        payload = json.dumps(body).encode(&#39;utf-8&#39;)

        headers = self._headers()
        headers[&#39;Content-Length&#39;] = str(len(payload))

        s = SyncSession(session) if session else self.session
        # TODO: the type issue will be fixed in auth-4.0.2
        resp = s.post(url, data=payload,  # type: ignore[arg-type]
                            headers=headers, timeout=timeout)
        data                 = resp.json()
        return data

    def close(self)        :
        self.session.close()

    def __enter__(self)                     :
        return self

    def __exit__(self, *args     )        :
        self.close()</code></pre>
</details>
<h3>Static methods</h3>
<dl>
<dt id="gcloud.rest.pubsub.publisher_client.PublisherClient.project_path"><code class="name flex">
<span>def <span class="ident">project_path</span></span>(<span>project)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def project_path(project     )       :
    return &#39;projects/{}&#39;.format((project))</code></pre>
</details>
</dd>
<dt id="gcloud.rest.pubsub.publisher_client.PublisherClient.subscription_path"><code class="name flex">
<span>def <span class="ident">subscription_path</span></span>(<span>project, subscription)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def subscription_path(cls, project     , subscription     )       :
    return &#39;{}/subscriptions/{}&#39;.format((cls.project_path(project)), (subscription))</code></pre>
</details>
</dd>
<dt id="gcloud.rest.pubsub.publisher_client.PublisherClient.topic_path"><code class="name flex">
<span>def <span class="ident">topic_path</span></span>(<span>project, topic)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def topic_path(cls, project     , topic     )       :
    return &#39;{}/topics/{}&#39;.format((cls.project_path(project)), (topic))</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="gcloud.rest.pubsub.publisher_client.PublisherClient.close"><code class="name flex">
<span>def <span class="ident">close</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def close(self)        :
    self.session.close()</code></pre>
</details>
</dd>
<dt id="gcloud.rest.pubsub.publisher_client.PublisherClient.create_topic"><code class="name flex">
<span>def <span class="ident">create_topic</span></span>(<span>self, topic, body=None, **_3to2kwargs)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_topic(self, topic     ,
                       body                           = None, **_3to2kwargs)                  :
    if &#39;timeout&#39; in _3to2kwargs: timeout = _3to2kwargs[&#39;timeout&#39;]; del _3to2kwargs[&#39;timeout&#39;]
    else: timeout =  10
    if &#39;session&#39; in _3to2kwargs: session = _3to2kwargs[&#39;session&#39;]; del _3to2kwargs[&#39;session&#39;]
    else: session =  None
    &#34;&#34;&#34;
    Create topic.
    &#34;&#34;&#34;
    url = &#39;{}/{}&#39;.format((API_ROOT), (topic))
    headers = self._headers()
    encoded = json.dumps(body or {}).encode()
    s = SyncSession(session) if session else self.session
    # TODO: the type issue will be fixed in auth-4.0.2
    resp = s.put(url, data=encoded,  # type: ignore[arg-type]
                       headers=headers, timeout=timeout)
    result                 = resp.json()
    return result</code></pre>
</details>
</dd>
<dt id="gcloud.rest.pubsub.publisher_client.PublisherClient.delete_topic"><code class="name flex">
<span>def <span class="ident">delete_topic</span></span>(<span>self, topic, **_3to2kwargs)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def delete_topic(self, topic     , **_3to2kwargs)        :
    if &#39;timeout&#39; in _3to2kwargs: timeout = _3to2kwargs[&#39;timeout&#39;]; del _3to2kwargs[&#39;timeout&#39;]
    else: timeout =  10
    if &#39;session&#39; in _3to2kwargs: session = _3to2kwargs[&#39;session&#39;]; del _3to2kwargs[&#39;session&#39;]
    else: session =  None
    &#34;&#34;&#34;
    Delete topic.
    &#34;&#34;&#34;
    url = &#39;{}/{}&#39;.format((API_ROOT), (topic))
    headers = self._headers()
    s = SyncSession(session) if session else self.session
    s.delete(url, headers=headers, timeout=timeout)</code></pre>
</details>
</dd>
<dt id="gcloud.rest.pubsub.publisher_client.PublisherClient.list_topics"><code class="name flex">
<span>def <span class="ident">list_topics</span></span>(<span>self, project, query_params=None, **_3to2kwargs)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def list_topics(self, project     ,
                      query_params                           = None, **_3to2kwargs)                  :
    if &#39;timeout&#39; in _3to2kwargs: timeout = _3to2kwargs[&#39;timeout&#39;]; del _3to2kwargs[&#39;timeout&#39;]
    else: timeout =  10
    if &#39;session&#39; in _3to2kwargs: session = _3to2kwargs[&#39;session&#39;]; del _3to2kwargs[&#39;session&#39;]
    else: session =  None
    &#34;&#34;&#34;
    List topics
    &#34;&#34;&#34;
    url = &#39;{}/{}/topics&#39;.format((API_ROOT), (project))
    headers = self._headers()
    s = SyncSession(session) if session else self.session
    resp = s.get(url, headers=headers, params=query_params,
                       timeout=timeout)
    result                 = resp.json()
    return result</code></pre>
</details>
</dd>
<dt id="gcloud.rest.pubsub.publisher_client.PublisherClient.publish"><code class="name flex">
<span>def <span class="ident">publish</span></span>(<span>self, topic, messages, session=None, timeout=10)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def publish(self, topic     , messages                     ,
                  session                    = None,
                  timeout      = 10)                  :
    if not messages:
        return {}

    url = &#39;{}/{}:publish&#39;.format((API_ROOT), (topic))

    body = {&#39;messages&#39;: [m.to_repr() for m in messages]}
    payload = json.dumps(body).encode(&#39;utf-8&#39;)

    headers = self._headers()
    headers[&#39;Content-Length&#39;] = str(len(payload))

    s = SyncSession(session) if session else self.session
    # TODO: the type issue will be fixed in auth-4.0.2
    resp = s.post(url, data=payload,  # type: ignore[arg-type]
                        headers=headers, timeout=timeout)
    data                 = resp.json()
    return data</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="gcloud.rest.pubsub" href="index.html">gcloud.rest.pubsub</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="gcloud.rest.pubsub.publisher_client.PublisherClient" href="#gcloud.rest.pubsub.publisher_client.PublisherClient">PublisherClient</a></code></h4>
<ul class="two-column">
<li><code><a title="gcloud.rest.pubsub.publisher_client.PublisherClient.close" href="#gcloud.rest.pubsub.publisher_client.PublisherClient.close">close</a></code></li>
<li><code><a title="gcloud.rest.pubsub.publisher_client.PublisherClient.create_topic" href="#gcloud.rest.pubsub.publisher_client.PublisherClient.create_topic">create_topic</a></code></li>
<li><code><a title="gcloud.rest.pubsub.publisher_client.PublisherClient.delete_topic" href="#gcloud.rest.pubsub.publisher_client.PublisherClient.delete_topic">delete_topic</a></code></li>
<li><code><a title="gcloud.rest.pubsub.publisher_client.PublisherClient.list_topics" href="#gcloud.rest.pubsub.publisher_client.PublisherClient.list_topics">list_topics</a></code></li>
<li><code><a title="gcloud.rest.pubsub.publisher_client.PublisherClient.project_path" href="#gcloud.rest.pubsub.publisher_client.PublisherClient.project_path">project_path</a></code></li>
<li><code><a title="gcloud.rest.pubsub.publisher_client.PublisherClient.publish" href="#gcloud.rest.pubsub.publisher_client.PublisherClient.publish">publish</a></code></li>
<li><code><a title="gcloud.rest.pubsub.publisher_client.PublisherClient.subscription_path" href="#gcloud.rest.pubsub.publisher_client.PublisherClient.subscription_path">subscription_path</a></code></li>
<li><code><a title="gcloud.rest.pubsub.publisher_client.PublisherClient.topic_path" href="#gcloud.rest.pubsub.publisher_client.PublisherClient.topic_path">topic_path</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>